<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数字 & ランドルト認識</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="header-top">
                <div class="header-title-group">
                    <h1>数字 & ランドルト認識</h1>
                </div>
                <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="メニューを開く" type="button">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <nav id="header-navigation" class="header-navigation collapsed">
                <div class="nav-wrapper">
                    <nav class="top-nav">
                        <a href="index.html" data-tooltip="トップへ戻る">トップ</a>
                        <a href="system1.html" data-tooltip="ランドルト環認識">ランドルト環認識</a>
                        <a href="system3.html" data-tooltip="モーション検出">モーション検出</a>
                        <a href="system4.html" data-tooltip="危険物ラベル認識">危険物ラベル認識</a>
                        <a href="system5.html" data-tooltip="QRコード認識">QRコード認識</a>
                    </nav>
                </div>
            </nav>
        </div>
    </header>

    <main class="container">
        <section class="system-section">
            <h2>課題説明</h2>
            <div class="text-panel">
                <p>フィールド内に設置された数字とランドルト環を同時に認識し、それぞれの値を正確に識別する課題である。</p>
            </div>
        </section>

        <section class="system-section">
            <h2>UI構成</h2>
            <div class="layout-notes">
                <ul>
                    <li><strong>左上</strong>: YOLO によるリアルタイム認識</li>
                    <li><strong>右上</strong>: 認識画像のノイズ除去・拡大表示</li>
                    <li><strong>右下</strong>: 二物体同時認識の拡大表示</li>
                    <li><strong>左下</strong>: 認識した情報の文字表示</li>
                </ul>
            </div>

            <h2>ギャラリー（クリックで拡大）</h2>
            <div class="gallery">
                <img src="images2/number-n.png" alt="数字 認識サンプル">
            </div>

            <div class="panel" data-label="テキスト出力">
                <div class="text-panel" id="number-results">
                    <ul>
                        <li>認識ラベル: 7（信頼度 0.92）</li>
                        <li>認識ラベル: 3（信頼度 0.88）</li>
                        <li>ランドルト環: 右開き（信頼度 0.90）</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="system-section">
            <h2>アルゴリズム概要</h2>
            <div class="text-panel">
                <p>本システムは、YOLO による検出結果を用いながら、数字とランドルト環を同一パイプラインで同時に検出・分類します。数字認識とランドルト環認識の両方に対応する統合システムです。以下の Python ロジックに基づいて設計されています。</p>
                <ul>
                    <li><strong>YOLO検出</strong>: 数字とランドルト環を同一モデルで検出。各検出結果に対して信頼度スコアを付与。</li>
                    <li><strong>数字認識</strong>: 検出された数字領域をOCR処理し、数字の値を識別。信頼度と共に表示。</li>
                    <li><strong>ランドルト環認識</strong>: 検出されたランドルト環に対して、HSV空間での明度判定と同心円サンプリングによって穴（切れ目）方向を推定。</li>
                    <li><strong>明度解析</strong>: 画像全体の平均明度から背景（白/黒）を推定し、白ランドルト/黒ランドルト双方に対応。</li>
                    <li><strong>同心円サンプリング</strong>: 画像中心から半径を変えて円周上の画素を多数サンプリングし、ランドルト環の色とギャップを検出。</li>
                    <li><strong>ギャップ検出</strong>: 一致しない角度を時系列に連結してギャップ区間に変換。ギャップ中心角を時計時刻（0-11時）へマッピング。</li>
                    <li><strong>統合出力</strong>: 数字とランドルト環の認識結果を左下のテキスト出力エリアに同時に表示。</li>
                </ul>
            </div>
        </section>

        <section class="system-section">
            <h2>操作方法と表示</h2>
            <div class="text-panel">
                <ul>
                    <li><strong>入力</strong>: カメラ（CAP_PROP で 1280x720, 30FPS に設定）。YOLO モデルで数字とランドルト環を同時検出。</li>
                    <li><strong>四分割ビュー</strong>:
                        <ul>
                            <li>左上: YOLO によるリアルタイム認識（検出枠とラベルを表示）。</li>
                            <li>右上: 認識画像のノイズ除去・拡大表示（Enter キーで全画面切替可）。</li>
                            <li>右下: 二物体同時認識時の拡大表示（存在する場合）。</li>
                            <li>左下: 認識した情報の文字表示（数字の値と信頼度、ランドルト環の方向と信頼度）。</li>
                        </ul>
                    </li>
                    <li><strong>キー操作</strong>: <code>1</code>=左上一時停止/保存、<code>2</code>=左下一時停止/保存、<code>Enter</code>=右上全画面/四分割切替、<code>q</code>=終了。</li>
                    <li><strong>保存</strong>: 一時停止時に、検出全体画像・拡大表示画像などを自動保存（連番・時刻付きファイル名）。</li>
                    <li><strong>表示</strong>: 左下のテキスト出力エリアに、認識した数字とランドルト環の情報をリアルタイムで表示。信頼度も併せて表示されるため、認識精度を確認可能。</li>
                </ul>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <small>© 2025 WRS | STM 部門<br>提供：WRS運営事務局</small>
                <div class="footer-links">
                    <a href="https://sogakkan.jp/" target="_blank" rel="noopener noreferrer" class="footer-link">
                        操学舘ドローンスクール
                    </a>
                    <a href="https://www.instagram.com/sds__school?igsh=MXFhcTIyZWtuYWFpOQ==" target="_blank" rel="noopener noreferrer" class="footer-link footer-link-instagram">
                        Instagram
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>


